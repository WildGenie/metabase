fragment UserPartial on User {
  id
  uuid
  email
}

query CurrentUser {
  currentUser {
    ...UserPartial
  }
}

mutation LoginUser(
    $email: String!,
    $password: String!
    ) {
  loginUser(
      input: {
           email: $email,
           password: $password
           }
      ) {
    requiresTwoFactor
    user {
      ...UserPartial
    }
    errors {
      code
      message
      path
    }
  }
}

mutation LogoutUser {
  logoutUser {
    errors {
      code
      message
      path
    }
  }
}

mutation RegisterUser(
  $email: String!,
  $password: String!,
  $passwordConfirmation: String!
) {
  registerUser(
    input: {
      email: $email,
      password: $password,
      passwordConfirmation: $passwordConfirmation
    }
  ) {
    user {
      ...UserPartial
    }
    errors {
      code
      message
      path
    }
  }
}

mutation ConfirmUserEmail(
  $email: String!,
  $confirmationCode: String!
) {
  confirmUserEmail(
    input: {
      email: $email,
      confirmationCode: $confirmationCode
    }
  ) {
    user {
      ...UserPartial
    }
    errors {
      code
      message
      path
    }
  }
}

mutation ChangeUserEmail(
  $newEmail: String!
  ) {
  changeUserEmail(
    input: {
       newEmail: $newEmail
       }
       ) {
    user {
      ...UserPartial
    }
    errors {
      code
      message
      path
    }
  }
}